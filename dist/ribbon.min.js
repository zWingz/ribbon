!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();!function(){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvasRibbon=document.getElementById(t),this.ctx=canvasRibbon.getContext("2d"),this.path=[],this.math=Math,this.r=0,this.PI_2=2*Math.PI,this.cos=Math.cos,this.random=Math.random,this.dpr=window.devicePixelRatio||1}t(e,[{key:"resize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,n=t.height,i=t.ribbonWidth,o=t.alpha;this.width=e,this.height=n,RIBBON_WIDE=i||e/10.5*.75,this.canvasRibbon.width=e*this.dpr,this.canvasRibbon.height=n*this.dpr,ctx.globalAlpha=o}},{key:"render",value:function(){for(ctx.clearRect(0,0,width,height),path=[{x:0,y:.7*height+RIBBON_WIDE},{x:0,y:.7*height-RIBBON_WIDE}];path[1].x<width+RIBBON_WIDE;)drawTriangle(path[0],path[1])}},{key:"drawTriangle",value:function(t,e){ctx.beginPath(),ctx.moveTo(t.x,t.y),ctx.lineTo(e.x,e.y);var n=e.x+(2*random()-.25)*RIBBON_WIDE,i=geneY(e.y);ctx.lineTo(n,i),ctx.closePath(),r-=PI_2/-50;var o="#"+(127*cos(r)+128<<16|127*cos(r+PI_2/3)+128<<8|127*cos(r+PI_2/3*2)+128).toString(16);ctx.fillStyle=o,ctx.fill(),path[0]=path[1],path[1]={x:n,y:i}}},{key:"geneY",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=t+90*(2*random()-1.2);return e>height||e<0?geneY(t):e})},{key:"init",value:function(){resize(),render()}},{key:"initEvenListeners",value:function(){var t;document.addEventListener("click",function(t){"A"!==t.target.tagName&&run()}),t=null,window.addEventListener("resize",function(){t&&(window.clearTimeout(t),t=null),t=setTimeout(init,500)})}}])}();document.addEventListener("touchmove",function(t){t.preventDefault()}),function(t){var e,n,i,o,a,r=document.getElementById(t),c=r.getContext("2d"),h=Math,u=0,l=2*h.PI,d=h.cos,s=h.random;function f(){for(c.clearRect(0,0,n,i),e=[{x:0,y:.7*i+o},{x:0,y:.7*i-o}];e[1].x<n+o;)v(e[0],e[1])}function v(t,n){c.beginPath(),c.moveTo(t.x,t.y),c.lineTo(n.x,n.y);var a=n.x+(2*s()-.25)*o,r=function t(e){var n=e+90*(2*s()-1.2);return n>i||n<0?t(e):n}(n.y);c.lineTo(a,r),c.closePath();var h="#"+(127*d(u-=l/-50)+128<<16|127*d(u+l/3)+128<<8|127*d(u+l/3*2)+128).toString(16);c.fillStyle=h,c.fill(),e[0]=e[1],e[1]={x:a,y:r}}function g(){var t;t=window.devicePixelRatio||1,n=window.innerWidth,i=window.innerHeight,o=n/10.5*.75,r.width=n*t,r.height=i*t,c.globalAlpha=.3,f()}document.addEventListener("click",function(t){"A"!==t.target.tagName&&f()}),a=null,window.addEventListener("resize",function(){a&&(window.clearTimeout(a),a=null),a=setTimeout(g,500)}),g()}()});
